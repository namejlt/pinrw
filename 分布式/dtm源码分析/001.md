## dtm介绍和目录分析

### 分布式事务


随着业务复杂性增加，一个业务过程需要多个服务节点参与，这里涉及到事务完成问题，dtm用来解决分布式事务问题。

单个事务的解决主要通过undo、redo、锁来完成，是强一致的；分布式事务参考单个事务的实现，为了提高性能增加了弱一致性的实现。

常用解决方案：
1. 强一致性 基于数据库层XA规范的实现 2PC 二阶段提交(准备，提交or回滚) 3PC 三阶段提交(check，准备，提交or回滚) 因网络问题，需要定时扫描保证数据准确
2. 弱一致性 应用层TCC try 预留资源 confirm 确认操作 cancel 撤销操作
3. 最终一致性 本地消息 可靠消息 依靠消息服务来同步子事务完全执行
4. 最终一致性 最大努力通知 不同步 每个子事务自己保证成功
5. 弱一致性 saga 每个子事务都包含提交和回滚两个操作，按步骤执行，有一个失败，前面全部回滚

上面除了XA外，都是依据补偿回滚来操作的，性能会略高一些，补偿回滚针对的是服务

XA依据数据库，相当于分布式数据库完成一个事务



### dtm介绍和目录

dtm提供分布式事务解决方案，是一个golang开发分布式事务框架

提供http和grpc服务，接口主要提供处理子事务的接口
1. AP调用TM的接口
2. AP调用RM的接口
3. TM调用RM的接口

代码目录
1. 核心服务 dtmsvr
2. golang sdk dtmcli dtmgrpc


后面主要针对dtmsvr讲解如何代码实现各种分布式解决方案，以及如何扩充其他解决方案






